# 架构

## 目录结构

由于考虑到以后存在跨平台适配的问题，所以需要将平台无关的逻辑单独实现，并将平台相关的逻辑放到另一个地方去实现

也就是说我们需要采用多个包去实现 SDK，这就需要用到 monorepo 的管理方式了

平台无关逻辑作为整个 SDK 的核心，放到 `core` 包中实现

平台相关的代码会依赖于 core 包，在它底层提供的能力上进行扩展，以适配具体平台的需求，以浏览器环境下的 SDK 为例，放到 `browser` 包中实现

并且项目会使用 TypeScript 进行开发，会涉及许多的 interface, type 的定义，为了方便管理这些类型代码，还会再抽离一个 `types` 包单独存放类型代码

最后，有的代码既不属于 core 也不属于 browser，其功能上起到的更多是一个像工具库作用的，会放到 `shared` 包中管理

综上，最终项目的目录结构如下：

```text
packages
├── browser   // 浏览器环境下的逻辑
├── core      // 平台无关的逻辑
├── shared    // 共享于多个包之间使用，起到工具库作用
└── types     // 类型定义代码 - interface, type 等
```
